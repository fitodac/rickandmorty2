{"ast":null,"code":"import _regeneratorRuntime from\"/Users/fitodac/Sites/henry/rickandmorty/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/fitodac/Sites/henry/rickandmorty/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/fitodac/Sites/henry/rickandmorty/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from'react';import{AppContext}from'../../context/context';import{HiX}from'react-icons/hi';import css from'./SearchBar.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SearchBar(props){var _useContext=useContext(AppContext),addCharacter=_useContext.addCharacter;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),characters=_useState4[0],setCharacters=_useState4[1];var searchCharacter=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(input.length<4)){_context.next=3;break;}setCharacters(null);return _context.abrupt(\"return\");case 3:_context.next=5;return fetch(\"https://rickandmortyapi.com/api/character/?name=\".concat(e.target.value)).then(function(resp){return resp.json();}).then(function(data){if(data.erro){setCharacters(null);}else{setCharacters(data.results);}});case 5:case\"end\":return _context.stop();}},_callee);}));return function searchCharacter(_x){return _ref.apply(this,arguments);};}();var clearSearch=function clearSearch(){setInput('');setCharacters(null);};return/*#__PURE__*/_jsxs(\"div\",{className:css['search-wrapper'],children:[/*#__PURE__*/_jsxs(\"div\",{className:css.search,children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Escribe el nombre de un personaje\",className:css['search-input'],type:\"text\",value:input,onKeyUp:searchCharacter,onChange:function onChange(evento){return setInput(evento.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:characters?css['search-btn']:'invisible',onClick:clearSearch,children:/*#__PURE__*/_jsx(HiX,{className:\"text-2xl leading-none\"})})]}),characters&&/*#__PURE__*/_jsx(\"div\",{className:css['search-results'],children:/*#__PURE__*/_jsx(\"div\",{className:css['search-results-list'],children:characters.map(function(c,i){return/*#__PURE__*/_jsxs(\"div\",{className:css.item,onClick:function onClick(){return addCharacter(c);},children:[/*#__PURE__*/_jsx(\"img\",{src:c.image,alt:c.name,className:\"w-8 h-8 object-cover rounded-full\"}),c.name]},c.id);})})})]});}","map":{"version":3,"names":["React","useState","useContext","AppContext","HiX","css","jsx","_jsx","jsxs","_jsxs","SearchBar","props","_useContext","addCharacter","_useState","_useState2","_slicedToArray","input","setInput","_useState3","_useState4","characters","setCharacters","searchCharacter","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_callee$","_context","prev","next","length","abrupt","fetch","concat","target","value","then","resp","json","data","erro","results","stop","_x","apply","arguments","clearSearch","className","children","search","placeholder","type","onKeyUp","onChange","evento","onClick","map","c","i","item","src","image","alt","name","id"],"sources":["/Users/fitodac/Sites/henry/rickandmorty/front/src/components/SearchBar/SearchBar.jsx"],"sourcesContent":["import React, { \n\tuseState,\n\tuseContext \n} from 'react'\nimport { AppContext } from '../../context/context'\n\nimport { HiX } from 'react-icons/hi'\n\nimport css from './SearchBar.module.css'\n\n\nexport default function SearchBar(props) {\n  \n\tconst { addCharacter } = useContext(AppContext)\n\tconst [ input, setInput ] = useState('')\n\tconst [ characters, setCharacters ] = useState(null)\n\n\n\tconst searchCharacter = async e => {\n\t\tif( input.length < 4 ){\n\t\t\tsetCharacters(null)\n\t\t\treturn\n\t\t}\n\n\t\tawait fetch(`https://rickandmortyapi.com/api/character/?name=${e.target.value}`)\n\t\t\t.then(resp => resp.json())\n\t\t\t.then(data => {\n\t\t\t\tif( data.erro ){\n\t\t\t\t\tsetCharacters(null)\n\t\t\t\t}else{\n\t\t\t\t\tsetCharacters(data.results)\n\t\t\t\t}\n\t\t\t})\n\t}\n\n\tconst clearSearch = () => {\n\t\tsetInput('')\n\t\tsetCharacters(null)\n\t}\n\n\n  return (\n\t\t<div className={ css['search-wrapper']}>\n\t\t\t<div className={ css.search }>\n\n\t\t\t\t<input\n\t\t\t\t\tplaceholder=\"Escribe el nombre de un personaje\"\n\t\t\t\t\tclassName={ css['search-input'] }\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tvalue={ input }\n\t\t\t\t\tonKeyUp={ searchCharacter }\n\t\t\t\t\tonChange={(evento) => setInput(evento.target.value)}\n\t\t\t\t/>\n\n\t\t\t\t<button \n\t\t\t\t\tclassName={ characters ? css['search-btn'] : 'invisible' }\n\t\t\t\t\tonClick={ clearSearch }>\n\t\t\t\t\t<HiX className=\"text-2xl leading-none\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t{\n\t\t\t\tcharacters && (\n\t\t\t\t\t<div className={ css['search-results'] }>\n\t\t\t\t\t\t<div className={ css['search-results-list'] }>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcharacters.map((c, i) => (\n\t\t\t\t\t\t\t\t\t<div \n\t\t\t\t\t\t\t\t\t\tkey={c.id} \n\t\t\t\t\t\t\t\t\t\tclassName={ css.item }\n\t\t\t\t\t\t\t\t\t\tonClick={ () => addCharacter(c) }>\n\t\t\t\t\t\t\t\t\t\t\t<img \n\t\t\t\t\t\t\t\t\t\t\t\tsrc={ c.image } \n\t\t\t\t\t\t\t\t\t\t\t\talt={ c.name }\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-8 h-8 object-cover rounded-full\" />\n\t\t\t\t\t\t\t\t\t\t\t{ c.name }\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t</div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}