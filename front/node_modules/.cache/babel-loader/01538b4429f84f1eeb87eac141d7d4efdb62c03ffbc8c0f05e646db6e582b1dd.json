{"ast":null,"code":"import _slicedToArray from\"/Users/fitodac/Sites/henry/rickandmorty/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useContext,useState}from'react';import{Link,useNavigate}from'react-router-dom';import{AppContext}from'../../context/context';import localforage from'localforage';import{HiOutlineTrash,HiOutlinePlusCircle,HiHeart,HiOutlineViewGridAdd}from'react-icons/hi';import SearchBar from'../SearchBar/SearchBar';import css from'./NavBar.module.css';import ImgLogo from'../../assets/img/logo.webp';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NavBar=function NavBar(){var navigate=useNavigate();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),fav=_useState2[0],setFav=_useState2[1];var _useContext=useContext(AppContext),addRandomCharacter=_useContext.addRandomCharacter,loading=_useContext.loading,clearAll=_useContext.clearAll,auth=_useContext.auth,updateAuth=_useContext.updateAuth,characters=_useContext.characters,updateCharacters=_useContext.updateCharacters,toggleFavorites=_useContext.toggleFavorites;useEffect(function(){var favs=characters.filter(function(e){return e.favorite;});setFav(favs.length);},[characters]);var logout=function logout(){localforage.removeItem('user').then(function(){updateAuth(null);navigate('/login');});};return/*#__PURE__*/_jsx(\"nav\",{className:\"py-2 relative z-30\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full max-w-6xl px-6 mx-auto xl:px-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid gap-6 md:flex md:justify-between md:items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:ImgLogo,alt:\"Rick & Morty\",className:\"brand w-32 md:w-48\"})})}),auth&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid lg:flex lg:justify-between lg:gap-x-5 lg:justify-end\",children:[/*#__PURE__*/_jsx(SearchBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid justify-center gap-4 mt-4 lg:m-0 sm:flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"\".concat(css.button,\" \").concat(loading?'active':''),onClick:addRandomCharacter,disabled:loading,children:/*#__PURE__*/_jsxs(\"div\",{className:\"justify-center items-center gap-2 md:w-28 md:h-5 md:flex\",children:[/*#__PURE__*/_jsx(HiOutlinePlusCircle,{className:loading?'invisible':'text-2xl leading-none'}),/*#__PURE__*/_jsx(\"span\",{className:loading?'hidden':'hidden lg:inline-block',children:\"Personaje\"}),/*#__PURE__*/_jsx(\"span\",{className:loading?'':'hidden',children:\"Cargando...\"})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"\".concat(css.button,\" \").concat(loading?'active':''),onClick:function onClick(){return updateCharacters();},children:/*#__PURE__*/_jsxs(\"div\",{className:\"justify-center items-center gap-2 md:w-20 md:h-5 md:flex\",children:[/*#__PURE__*/_jsx(HiOutlineViewGridAdd,{className:\"text-2xl leading-none\"}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden lg:block\",children:\"Todos\"})]})}),/*#__PURE__*/_jsx(\"button\",{className:css.button,onClick:clearAll,children:/*#__PURE__*/_jsx(HiOutlineTrash,{className:\"text-2xl leading-none\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-x-4\",children:[fav>0&&/*#__PURE__*/_jsxs(\"button\",{className:css['fav-btn'],onClick:function onClick(){return toggleFavorites();},children:[/*#__PURE__*/_jsx(\"span\",{children:\"Favoritos\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:css['fav-indicator'],children:fav}),/*#__PURE__*/_jsx(HiHeart,{className:\"text-red-700 text-4xl leading-none\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-white text-opacity-60 px-1 transition-all  select-none hover:text-opacity-100\",onClick:logout,children:\"Salir\"})]})]})]})]})})});};export default NavBar;","map":{"version":3,"names":["useEffect","useContext","useState","Link","useNavigate","AppContext","localforage","HiOutlineTrash","HiOutlinePlusCircle","HiHeart","HiOutlineViewGridAdd","SearchBar","css","ImgLogo","jsx","_jsx","jsxs","_jsxs","NavBar","navigate","_useState","_useState2","_slicedToArray","fav","setFav","_useContext","addRandomCharacter","loading","clearAll","auth","updateAuth","characters","updateCharacters","toggleFavorites","favs","filter","e","favorite","length","logout","removeItem","then","className","children","to","src","alt","concat","button","onClick","disabled"],"sources":["/Users/fitodac/Sites/henry/rickandmorty/front/src/components/NavBar/NavBar.jsx"],"sourcesContent":["import { \n\tuseEffect,\n\tuseContext, \n\tuseState \n} from 'react'\nimport { \n\tLink, \n\tuseNavigate \n} from 'react-router-dom'\nimport { AppContext } from '../../context/context'\nimport localforage from 'localforage'\nimport { \n\tHiOutlineTrash,\n\tHiOutlinePlusCircle,\n\tHiHeart,\n\tHiOutlineViewGridAdd\n} from 'react-icons/hi'\n\nimport SearchBar from '../SearchBar/SearchBar'\n\nimport css from './NavBar.module.css'\nimport ImgLogo from '../../assets/img/logo.webp'\n\n\nconst NavBar = () => {\n\n\tconst navigate = useNavigate()\n\tconst [fav, setFav] = useState(0)\n\t\n\tconst { \n\t\taddRandomCharacter,\n\t\tloading,\n\t\tclearAll,\n\t\tauth,\n\t\tupdateAuth,\n\t\tcharacters,\n\t\tupdateCharacters,\n\t\ttoggleFavorites\n\t} = useContext(AppContext)\n\n\tuseEffect(() => {\n\t\tconst favs = characters.filter(e => e.favorite)\n\t\tsetFav(favs.length)\n\t}, [characters])\n\n\n\tconst logout = () => {\n\n\t\tlocalforage.removeItem('user')\n\t\t\t.then(() => {\n\t\t\t\tupdateAuth(null)\n\t\t\t\tnavigate('/login')\n\t\t\t})\n\t}\n\n\n\n  return (\n\t\t<nav className=\"py-2 relative z-30\">\n\t\t\t<div className=\"w-full max-w-6xl px-6 mx-auto xl:px-0\">\n\t\t\t\t<div className=\"grid gap-6 md:flex md:justify-between md:items-center\">\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"flex justify-center\">\n\t\t\t\t\t\t<Link to=\"/\">\n\t\t\t\t\t\t\t<img \n\t\t\t\t\t\t\t\tsrc={ ImgLogo } \n\t\t\t\t\t\t\t\talt=\"Rick & Morty\" \n\t\t\t\t\t\t\t\tclassName=\"brand w-32 md:w-48\" />\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\n\n\t\t\t\t{auth && (\n\t\t\t\t\t<div className=\"grid lg:flex lg:justify-between lg:gap-x-5 lg:justify-end\">\n\t\t\t\t\t\t<SearchBar />\n\n\t\t\t\t\t\t<div className=\"grid justify-center gap-4 mt-4 lg:m-0 sm:flex\">\n\t\t\t\t\t\t\t<div className=\"flex gap-x-4\">\n\n\t\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\t\tclassName={`${css.button} ${loading ? 'active': ''}`} \n\t\t\t\t\t\t\t\t\tonClick={ addRandomCharacter }\n\t\t\t\t\t\t\t\t\tdisabled={ loading }>\n\t\t\t\t\t\t\t\t\t\t<div className=\"justify-center items-center gap-2 md:w-28 md:h-5 md:flex\">\n\t\t\t\t\t\t\t\t\t\t\t<HiOutlinePlusCircle className={ loading ? 'invisible' : 'text-2xl leading-none' } />\n\t\t\t\t\t\t\t\t\t\t\t<span className={ loading ? 'hidden' : 'hidden lg:inline-block'}>Personaje</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className={ loading ? '' : 'hidden' }>Cargando...</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</button>\n\n\n\t\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\t\tclassName={`${css.button} ${loading ? 'active': ''}`} \n\t\t\t\t\t\t\t\t\tonClick={ () => updateCharacters() }>\n\t\t\t\t\t\t\t\t\t<div className=\"justify-center items-center gap-2 md:w-20 md:h-5 md:flex\">\n\t\t\t\t\t\t\t\t\t\t<HiOutlineViewGridAdd className=\"text-2xl leading-none\" />\n\t\t\t\t\t\t\t\t\t\t<span className=\"hidden lg:block\">Todos</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</button>\n\n\n\t\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\t\tclassName={ css.button }\n\t\t\t\t\t\t\t\t\tonClick={ clearAll }>\n\t\t\t\t\t\t\t\t\t<HiOutlineTrash className=\"text-2xl leading-none\" />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-x-4\">\n\t\t\t\t\t\t\t\t{fav > 0 && (\n\t\t\t\t\t\t\t\t\t<button className={ css['fav-btn']} onClick={() => toggleFavorites()}>\n\t\t\t\t\t\t\t\t\t\t<span>Favoritos</span>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t\t\t\t\t<div \n\t\t\t\t\t\t\t\t\t\t\t\tclassName={ css['fav-indicator'] }>{ fav }</div>\n\t\t\t\t\t\t\t\t\t\t\t<HiHeart className=\"text-red-700 text-4xl leading-none\"/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t)}\n\n\n\t\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\t\tclassName=\"text-white text-opacity-60 px-1 transition-all \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselect-none hover:text-opacity-100\"\n\t\t\t\t\t\t\t\t\tonClick={ logout }>\n\t\t\t\t\t\t\t\t\tSalir\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</nav>\n  );\n}\n\n\nexport default NavBar"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}